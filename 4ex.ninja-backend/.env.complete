# =============================================================================
# 4ex.ninja Backend - Complete Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# OANDA Trading Configuration (Demo Environment)
# -----------------------------------------------------------------------------
OANDA_API_KEY=0430ae4a846b210322ad7022f9e99772-bb552e517fb737ab6536952ae9f21ce1
OANDA_ACCOUNT_ID=101-001-4266824-002
OANDA_ENVIRONMENT=practice

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
MONGO_CONNECTION_STRING=mongodb+srv://tyrelle:dcvsniTYFG9ojCgn@cluster0.6h6fdf2.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0

# -----------------------------------------------------------------------------
# Discord Webhook Configuration
# -----------------------------------------------------------------------------
DISCORD_WEBHOOK_SIGNALS_FREE=https://discord.com/api/webhooks/1403982488845549648/Nh3_T7WBOv4BuD0AFtDbbtN3r50JKYaHj0OIQmiDnN9NvSzXg5upj4UNoI3HdFryPuyY
DISCORD_WEBHOOK_SIGNALS_PREMIUM=https://discord.com/api/webhooks/1403982689379418143/1M5-WvGne7VzeI7aVZ5Q4sloRv9I0F-np8mUBHomroA30_TJQUTOXNvTgPb5ko3-muN5
DISCORD_WEBHOOK_ALERTS_CRITICAL=https://discord.com/api/webhooks/1403983698872897578/IisTRZ8uR-41eSiiTi5MhVrYKDI6akacBKNHtr1eOQEsUjOMJ_dY5COyGOjBMsEJil8O
DISCORD_WEBHOOK_ALERTS_GENERAL=https://discord.com/api/webhooks/1403983827801735198/qphjnivNPBpcRr3keFnJWfHN3wQ5mbjT3bkSJ99eHhQ_aUH7up1b0-poV4ZOgswbBQIV
DISCORD_WEBHOOK_MARKET_ANALYSIS=https://discord.com/api/webhooks/1403983962929369108/jxdu5M3rRqTq_m2OjQVJOe9f9MW5pam6gUb-USoJBp_G_Ko0JIDZzZjkORAZXCZBvlgf
DISCORD_WEBHOOK_SYSTEM_STATUS=https://discord.com/api/webhooks/1403984103530958890/HKPKtPDWAw095LHFZiHYJNwvfacnHgJnzKS0Vw0cm9FhMFCfQNylhSHp9rsQ_xW3Ate3
DISCORD_WEBHOOK_COMMUNITY=https://discord.com/api/webhooks/1403984239501901866/IbKJsLVxsmfSEidhqKPIsq-XLSuGc4uwyaYBExoGSYanH13PzHvZ82G2TBqV4ILSN61_

# Discord Branding
DISCORD_AVATAR_URL=https://4ex.ninja/logo.png
DISCORD_FOOTER_ICON_URL=https://4ex.ninja/favicon.ico
DISCORD_BRAND_COLOR=0x1DB954

# -----------------------------------------------------------------------------
# Enhanced Risk Management Configuration (From Backtesting Analysis)
# -----------------------------------------------------------------------------
EMERGENCY_RISK_ENABLED=true
VAR_MONITORING_ENABLED=true
REGIME_DETECTION_ENABLED=true
PORTFOLIO_RISK_ENABLED=true

# Risk Thresholds (Based on 384 Backtest Analysis)
MAX_PORTFOLIO_DRAWDOWN=0.15
VAR_CONFIDENCE_LEVEL=0.95
CORRELATION_THRESHOLD=0.4
STRESS_VOLATILITY_MULTIPLIER=2.0

# Emergency Levels (4-Tier System from Backtesting)
EMERGENCY_LEVEL_1=0.10      # 10% portfolio drawdown - enhanced monitoring
EMERGENCY_LEVEL_2=0.15      # 15% portfolio drawdown - emergency protocols
EMERGENCY_LEVEL_3=0.20      # 20% portfolio drawdown - crisis mode
EMERGENCY_LEVEL_4=0.25      # 25% portfolio drawdown - emergency stop

# -----------------------------------------------------------------------------
# Monitoring Frequencies (seconds)
# -----------------------------------------------------------------------------
EMERGENCY_CHECK_FREQUENCY=60         # Check emergency conditions every 1 min
VAR_CALCULATION_FREQUENCY=300        # Update VaR every 5 minutes
REGIME_UPDATE_FREQUENCY=900          # Update regime every 15 minutes
PORTFOLIO_HEALTH_FREQUENCY=180       # Check portfolio health every 3 minutes
STRATEGY_HEALTH_FREQUENCY=600        # Check strategy health every 10 minutes

# -----------------------------------------------------------------------------
# Demo Trading Specific Configuration
# -----------------------------------------------------------------------------
DEMO_MODE=true
DEMO_INITIAL_BALANCE=100000
DEMO_MAX_POSITION_SIZE=0.01          # 1% of account per trade
DEMO_MAX_DAILY_LOSS=0.05             # 5% max daily loss
DEMO_MAX_CONCURRENT_TRADES=5

# -----------------------------------------------------------------------------
# Strategy Configuration (From Backtesting Results)
# -----------------------------------------------------------------------------
# Three-Tier Portfolio Allocation (60/30/10)
CORE_ALLOCATION_PERCENTAGE=0.60      # Conservative strategies (84.4% robustness)
GROWTH_ALLOCATION_PERCENTAGE=0.30    # Moderate strategies 
TACTICAL_ALLOCATION_PERCENTAGE=0.10  # Aggressive strategies

# Strategy Priority Order (Highest Robustness First)
PRIORITY_PAIRS=USD_CAD,AUD_USD,USD_CHF,USD_JPY,EUR_USD
GROWTH_PAIRS=GBP_USD,EUR_GBP,AUD_JPY,GBP_JPY,EUR_JPY

# -----------------------------------------------------------------------------
# Performance Tracking & Attribution
# -----------------------------------------------------------------------------
TRACK_BACKTEST_ALIGNMENT=true
PERFORMANCE_ATTRIBUTION_ENABLED=true
STRATEGY_HEALTH_MONITORING=true
REAL_TIME_CORRELATION_TRACKING=true

# Performance Targets (From Backtesting)
TARGET_ANNUAL_RETURN=0.208           # 20.8% from backtesting
TARGET_SHARPE_RATIO=1.28             # Portfolio Sharpe from backtesting
TARGET_MAX_DRAWDOWN=0.103            # 10.3% from backtesting

# -----------------------------------------------------------------------------
# Alert Configuration
# -----------------------------------------------------------------------------
EMERGENCY_DISCORD_WEBHOOK=https://discord.com/api/webhooks/1403983698872897578/IisTRZ8uR-41eSiiTi5MhVrYKDI6akacBKNHtr1eOQEsUjOMJ_dY5COyGOjBMsEJil8O
RISK_ALERT_CHANNEL=alerts_critical
PERFORMANCE_ALERT_CHANNEL=alerts_general

# Alert Thresholds
SIGNAL_QUALITY_THRESHOLD=1.5         # Minimum R:R ratio for notifications
PERFORMANCE_DEVIATION_THRESHOLD=0.20 # 20% deviation from backtest expectations
CORRELATION_BREACH_THRESHOLD=0.4     # Portfolio correlation limit

# -----------------------------------------------------------------------------
# System Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
MAX_LOG_SIZE_MB=100
LOG_ROTATION_DAYS=30
HEALTH_CHECK_INTERVAL=300            # 5 minutes

# Redis Configuration (for optimization)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_OPTIMIZATION_ENABLED=true

# System Limits
MAX_MEMORY_USAGE_PCT=85
MAX_DISK_USAGE_PCT=80
MAX_CPU_USAGE_PCT=75

# -----------------------------------------------------------------------------
# Development & Debugging (Set to false for production)
# -----------------------------------------------------------------------------
DEBUG_MODE=false
VERBOSE_LOGGING=false
SIGNAL_VALIDATION_STRICT=true
DEVELOPMENT_NOTIFICATIONS=false
